(function(e){function t(t){for(var r,i,o=t[0],l=t[1],c=t[2],d=0,m=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&m.push(n[i][0]),n[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(t);while(m.length)m.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,o=1;o<a.length;o++){var l=a[o];0!==n[l]&&(r=!1)}r&&(s.splice(t--,1),e=i(i.s=a[0]))}return e}var r={},n={app:0},s=[];function i(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=r,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/nidmterms-ui/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var r=a("85ec"),n=a.n(r);n.a},"0591":function(e,t,a){"use strict";var r=a("1fa2"),n=a.n(r);n.a},"137b":function(e,t,a){"use strict";var r=a("c8d8"),n=a.n(r);t["default"]=n.a},"180b":function(e,t,a){e.exports=a.p+"img/nidm-terms-background.46014f3b.png"},"1a6b":function(e,t,a){},"1d6f":function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return n}));var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"landing"},[r("b-card",{staticClass:"text-center banner",attrs:{overlay:"",variant:"banner-text","img-src":a("180b"),"img-alt":"Card Image","text-variant":"white",title:"TERMINOLOGIES FOR THE NEUROIMAGING COMMUNITY","title-variant":"card-card_title"}},[r("b-button",{staticClass:"learn-btn"},[r("router-link",{staticClass:"card-link banner-text",attrs:{to:{path:"about"}}},[e._v("Learn More")])],1),r("section",{staticClass:"demo",attrs:{id:"section01"}},[r("button",{directives:[{name:"scroll-to",rawName:"v-scroll-to",value:"#section02",expression:"'#section02'"}]})])],1),r("div",{staticClass:"about text-center",attrs:{id:"section02"}},[r("div",{staticClass:"container"},[r("h2",[e._v("Welcome to the NIDM-Terms Community Site")]),r("p",[e._v("This recently funded project is developing human neuroimaging domain-specific controlled vocabularies through community engagement and to provide tools for their use in BRAIN Initiative projects. We are currently setting up the community resources for the project.")]),r("b-card-group",{attrs:{deck:""}},[r("b-card",{attrs:{title:"Annotate"}},[r("b-card-text",[r("router-link",{staticClass:"card-link",attrs:{to:{path:"annotate"}}},[e._v("Annotate terms in a CSV/TSV file")])],1)],1),r("b-card",{attrs:{title:"Explore terms"}},[r("b-card-text",[r("router-link",{staticClass:"card-link",attrs:{to:{path:"explore"}}},[e._v("Explore the terminology")])],1)],1),r("b-card",{attrs:{title:"Add Term"}},[r("b-card-text",[r("router-link",{staticClass:"card-link",attrs:{to:{path:"create"}}},[e._v("Suggest a term for the NIDM Terminologies")])],1)],1)],1)],1)])],1)},n=[]},"1fa2":function(e,t,a){},"2d86":function(e,t,a){"use strict";var r=a("a199"),n=a.n(r);n.a},"41d5":function(e,t,a){},4375:function(e,t,a){"use strict";var r=a("a116"),n=a.n(r);n.a},4879:function(e,t,a){"use strict";var r=a("1a6b"),n=a.n(r);n.a},"557c":function(e,t,a){e.exports=a.p+"img/NIDM_Terms_Annotations_Figure1_1ff8a7b5dc7a7d1f.d4d6662d.png"},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("nav",{staticClass:"navbar navbar-expand-lg navbar-light navbar-custom sticky-top"},[r("b-navbar-brand",{attrs:{href:"/"}},[r("img",{staticClass:"navbar-logo",attrs:{src:a("9d64"),alt:"Nidm-terms Logo"}})]),r("span",{staticClass:"community-name"},[e._v("NIDM Terminology")]),r("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),r("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[r("b-navbar-nav",{staticClass:"ml-auto"},[r("b-nav-form",[r("b-form-input",{staticClass:"mr-sm-2",attrs:{size:"sm",placeholder:"Search"}}),r("b-button",{staticClass:"my-2 my-sm-0",attrs:{size:"sm",type:"submit"}},[e._v("Search")])],1)],1)],1)],1),r("router-view")],1)},s=[],i=a("5f5b");r["default"].use(i["a"]);var o={name:"App",data:function(){return{terms:[],sourceList:[],interlexTerms:[],selectedTerm:null,selectedFile:null,image:{backgroundImage:"url(https://vuejs.org/images/logo.png)"}}},methods:{doNext:function(){this.$router.push("/annotate")}}},l=o,c=(a("034f"),a("2877")),u=Object(c["a"])(l,n,s,!1,null,null,null),d=u.exports,m=a("8c4f"),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.results?a("div",[e._v(" "+e._s(e.results)+" "),a("div",{staticClass:"details"},e._l(e.results,(function(t){return a("ul",{key:t["_source"]["ilx"],staticClass:"list-group",attrs:{term:t}},[e._v(" "+e._s(t["_source"]["label"])+" ")])})),0)]):e._e()},f=[],h={name:"TermDetail",props:["results"]},v=h,b=(a("4879"),Object(c["a"])(v,p,f,!1,null,"5105084a",null)),g=b.exports,y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"annotate"}},[a("div",[e._m(0),a("input",{attrs:{type:"file"},on:{change:e.onFileSelected}})]),e.sourceList.length?a("b-container",{staticClass:"col-container",attrs:{fluid:""}},[a("div",{attrs:{id:"sidebar-left"}},[a("div",{staticClass:"col-header"},[a("p",[a("b",[e._v("Terms")])])]),a("div",[a("SourceVariableList",{attrs:{terms1:e.sourceList,completed:e.completed},on:{termSearchResult:e.searchList,termSelect:e.showTermProperties}})],1)]),e.selectedTerm?a("div",{attrs:{id:"main-content"}},[a("div",{staticClass:"col-header"},[a("p",[a("b",[e._v("Term Properties")])])]),a("transition",{attrs:{name:"fade",mode:"out-in"}},[e.showForm?a("TermProperties",{key:e.selectedTerm,attrs:{init:e.responses[e.selectedTerm],selectedTerm:e.selectedTerm,searchResults:e.interlexTerms},on:{saveResponse:e.setResponse}}):e._e()],1)],1):e._e(),e.selectedTerm?a("div",{attrs:{id:"sidebar-right"}},[a("div",{staticClass:"col-header"},[a("p",[a("b",[e._v("Interlex Search")])])]),a("InterlexSearchList",{attrs:{terms:e.interlexTerms}})],1):e._e()]):e._e(),e.isAnnotated?a("div",{staticClass:"download-btn"},[a("b-button",{attrs:{variant:"primary"},on:{click:e.downloadJSONLD}},[e._v("Download JSON")])],1):e._e()],1)},_=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",{staticClass:"upload"},[a("b",[e._v(" Upload a CSV or TSV file to annotate: ")])])}],T=(a("a4d3"),a("e01a"),a("99af"),a("b0c0"),a("4fad"),a("ac1f"),a("1276"),a("3835")),x=a("369b"),I=a.n(x),C=a("c4e3"),S=a.n(C),w=a("2ef0"),A=a.n(w),O=a("21a6"),j=(a("92bd"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("ul",{staticClass:"list-group"},e._l(e.terms1,(function(t,r){return a("li",{key:r+t,staticClass:"list-group-item",class:{"current-item":r===e.activeIndex},on:{click:function(a){return e.onTermSelect(t,r)}}},[a("span",[e._v(" "+e._s(t)+" ")]),e.completed[t]?a("div",{staticClass:"checkmark"}):e._e()])})),0)])}),k=[],N=a("bc3a"),M=a.n(N),E="CfufpoSNVXujv7h14HFHI4dL9p36mxCJ",D={name:"SourceVariableList",props:{terms1:Array,completed:Object},data:function(){return{results:[],itemCompleted:!1,activeIndex:null}},methods:{onTermSelect:function(e,t){var a=this;console.log(47,e,t),this.activeIndex=t,this.$emit("termSelect",e),M.a.get("https://scicrunch.org/api/1/elastic/interlex/term/_search?q=".concat(e),{params:{key:E}}).then((function(e){a.$emit("termSearchResult",e.data.hits.hits)}))}}},L=D,R=(a("589a"),Object(c["a"])(L,j,k,!1,null,"4ad2260f",null)),V=R.exports,F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.terms.length?a("ul",{staticClass:"list-group scroll"},e._l(e.terms,(function(e){return a("InterlexTerm",{key:e["_id"],attrs:{term:e}})})),1):a("div",[a("p",{staticClass:"no-match"},[e._v("No matching terms found!")])])},$=[],P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"list-group-item"},[a("input",{staticClass:"checkbox",attrs:{type:"checkbox"}}),a("span",{staticClass:"align-middle"},[a("strong",[e._v(e._s(e.term["_source"].label)+" ")]),a("br"),e._v(" Description: "+e._s(e.term["_source"].definition)+" ")])])},G=[],U={name:"InterlexTerm",props:{term:Object},methods:{onTermSelect:function(){this.$emit("termSelect",this.term)}}},H=U,J=(a("2d86"),Object(c["a"])(H,P,G,!1,null,"065681bd",null)),B=J.exports,q={name:"InterlexSearchList",props:{terms:Array,terms1:Array},components:{InterlexTerm:B},methods:{onTermSelect:function(e){this.$emit("termSelect",e)}}},z=q,W=(a("0591"),Object(c["a"])(z,F,$,!1,null,"fadf7ffe",null)),K=W.exports,X=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-body scroll"},[a("vue-form-generator",{key:e.selectedTerm,attrs:{schema:e.schema,model:e.model,options:e.formOptions}}),a("b-button",{on:{click:e.onSave}},[e._v("Save")])],1)])])},Q=[],Y=(a("d81d"),a("d3b7"),a("ddb0"),a("4309")),Z=a.n(Y),ee={name:"TermProperties",props:{selectedTerm:String,init:Object,searchResults:Array},components:{"vue-form-generator":Z.a.component},data:function(){return{model:{label:"",sourceVariable:this.selectedTerm,description:"",url:"",valueType:"",isAbout:[],isPartOf:[],datumType:"",unitCode:"",maxValue:"",minValue:"",allowableValues:[],choices:[],derivative:"",citation:"",measureOf:"",provenance:""},schema:{groups:[{styleClasses:"group-one-class",fields:[{type:"input",inputType:"text",label:"Label",model:"label",hint:"Label for the term",readonly:!1,featured:!0,disabled:!1,validator:Z.a.validators.string},{type:"input",inputType:"text",label:"Source variable",model:"sourceVariable",readonly:!0,hint:"Variable name from dataset",featured:!0,required:!1,disabled:!0},{type:"input",inputType:"text",label:"Description",model:"description",featured:!0,required:!1,hint:"An explanation of the nature, scope, or meaning of the new term.",validator:Z.a.validators.string},{type:"input",inputType:"text",label:"valueType",model:"valueType",hint:"A value representation such as integer, float, string, date/time",featured:!0,readonly:!1,required:!1,validator:Z.a.validators.string},{type:"input",inputType:"text",label:"datumType",model:"datumType",hint:"What type of datum it is (e.g. range,count,scalar etc.): see IAO definitions",readonly:!1,featured:!0,disabled:!1,validator:Z.a.validators.string},{type:"input",inputType:"text",label:"Unit",model:"hasUnit",hint:"Unit of measurement following BIDS specification",readonly:!1,featured:!0,disabled:!1,validator:Z.a.validators.string},{type:"input",inputType:"number",label:"Max Value",model:"maximumValue",readonly:!1,featured:!0,disabled:!1,validator:Z.a.validators.number},{type:"input",inputType:"number",label:"Min Value",model:"minimumValue",readonly:!1,featured:!0,disabled:!1,validator:Z.a.validators.number},{type:"checklist",label:"isAbout",model:"isAbout",required:!1,multiSelect:!0,featured:!0,styleClasses:"checklist-class",values:[],hint:"An explanation of the nature, scope, or meaning of the new term.",help:"Check right column for definition of the related concept terms",validator:Z.a.validators.array},{type:"input",inputType:"text",label:"allowableValues",model:"allowableValues",readonly:!1,featured:!0,disabled:!1},{type:"input",inputType:"text",label:"isPartOf",model:"isPartOF",readonly:!1,featured:!0,disabled:!1,required:!1,validator:Z.a.validators.array}]}]},interlexTerms:[],formOptions:{validateAfterLoad:!0,validateAfterChanged:!0,validateAsync:!0}}},watch:{searchResults:{deep:!0,immediate:!0,handler:function(e){var t=A.a.map(e,(function(e){return e["_source"]["label"]}));t.unshift("No concept needed"),this.schema.groups[0].fields[8].values=t}}},methods:{onSave:function(){this.$emit("saveResponse",this.selectedTerm,this.model)}},mounted:function(){this.init&&(this.model=this.init)}},te=ee,ae=(a("4375"),Object(c["a"])(te,X,Q,!1,null,"601154e1",null)),re=ae.exports,ne={name:"Annotate",components:{TermProperties:re,InterlexSearchList:K,SourceVariableList:V},data:function(){return{fileInput:{},terms:[],sourceList:[],interlexTerms:[],selectedTerm:null,selectedFile:null,image:{backgroundImage:"static/images/nidm-terms-background.png"},showForm:!1,responses:{},completed:{},isAnnotated:!1}},watch:{responses:{deep:!0,handler:function(e){this.isAnnotated=!A.a.isEmpty(e)}},interlexTerms:function(){this.$forceUpdate()},completed:{deep:!0,handler:function(e){console.log(92,"in completed watcher ",this.selectedTerm,e)}}},methods:{downloadJSONLD:function(){var e=this.createAnnotatedFile(this.responses),t=new S.a;t.folder("responses").file("".concat(this.fileInput.name.split(".")[0],".json"),JSON.stringify(e,null,4)),t.generateAsync({type:"blob"}).then((function(e){var t="study-data";Object(O["saveAs"])(e,t)}))},createAnnotatedFile:function(e){for(var t={},a=0,r=Object.entries(e);a<r.length;a++){var n=Object(T["a"])(r[a],2),s=n[0],i=n[1],o="DD(source=".concat(this.fileInput.name,", variable=").concat(s,")"),l={label:s,description:i.description,sameAs:"https://ndar.nih.gov/api/datadictionary/v2/dataelement/src_subject_id",valueType:i.valueType,source_variable:i.sourceVariable,isAbout:i.isAbout};t[o]=l}return t},onFileSelected:function(e){var t=this;this.fileInput=e.target.files[0],I.a.parse(this.fileInput,{complete:function(e){t.sourceList=e.data[0]}})},searchList:function(e){this.interlexTerms=e},showTermProperties:function(e){this.selectedTerm=e,this.showForm=!0},setResponse:function(e,t){this.$set(this.responses,e,t),t?this.$set(this.completed,e,!0):this.$set(this.completed,e,!1)}}},se=ne,ie=(a("5a6b"),Object(c["a"])(se,y,_,!1,null,"4a4fcec4",null)),oe=ie.exports,le=a("a9bf"),ce=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},ue=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",{staticClass:"entry-header-content"},[r("h2",{staticClass:"entry-title"},[r("strong",[e._v("THE NEUROIMAGING DATA MODEL: FAIR DESCRIPTORS OF BRAIN INITIATIVE IMAGING EXPERIMENTS")])]),r("br"),r("h3",[e._v("NIH RF1 MH120021")]),r("p",{staticClass:"text-justify"},[e._v("Reuse of existing neuroscience data relies, in part, on our ability to understand the experimental design and study data. Historically, a description of the experiment is provided in textual documents, which are often difficult to search, lack the details necessary for data reuse, and are hampered by differences in terminologies across related fields of neuroscience. In this project we develop human neuroimaging domain-specific controlled vocabularies through community engagement and to provide tools for their use in BRAIN Initiative projects. The proposed work will provide a controlled vocabulary for use by the newer BRAIN Initiative projects, incorporating such annotations into the BIDS format (Figure 1) and hosted through the BRAIN Initiative archives such as OpenNeuro (Figure 2). This project will greatly improve the ability to search across and reuse datasets.")]),r("section",{attrs:{id:"our-team"}},[r("h3",[r("strong",[e._v("Our Team")])]),r("ul",{staticClass:"member-list"},[r("li",[r("a",{attrs:{href:"https://faculty.sites.uci.edu/davidkeator/"}},[e._v("David Keator")]),e._v(" – UC Irvine")]),r("li",[r("a",{attrs:{href:"https://www.nmr.mgh.harvard.edu/user/6787"}},[e._v("Karl Helmer")]),e._v(" – MGH / Harvard")]),r("li",[r("a",{attrs:{href:"https://profiles.ucsd.edu/jeffrey.grethe"}},[e._v("Jeff Grethe")]),e._v(" – UC San Diego")]),r("li",[r("a",{attrs:{href:"https://www.mcgill.ca/neuro/jean-baptiste-poline-phd"}},[e._v("Jean-Baptiste Poline")]),e._v(" – McGill")]),r("li",[r("a",{attrs:{href:"https://mcgovern.mit.edu/profile/satrajit-ghosh/"}},[e._v("Satra Ghosh")]),e._v(" – MIT")]),r("li",[r("a",{attrs:{href:"https://www.faculty.uci.edu/profile.cfm?faculty_id=5812"}},[e._v("Theo G.M. VanErp")]),e._v(" – UC Irvine")]),r("li",[r("a",{attrs:{href:""}},[e._v("Nazek Queder")]),e._v(" - UC Irvine")]),r("li",[r("a",{attrs:{href:"https://gablab.mit.edu/team/abraham-sanu-ann/"}},[e._v("Sanu Ann Abraham")]),e._v(" - MIT")])])]),r("section",{attrs:{id:"contribute"}},[r("div",[r("h3",[r("strong",[e._v("Interested in contributing?")])]),r("span",[e._v("Visit our "),r("a",{attrs:{href:"https://github.com/NIDM-Terms/terms"}},[e._v("NIDM-Terms")]),e._v(" GitHub site for further information!")])])]),r("br"),r("img",{attrs:{src:a("557c"),alt:"NIDM_Figure1"}}),r("br"),r("br"),r("img",{attrs:{src:a("a93c"),alt:"NIDM_Figure2"}})])])}],de=(a("e6c3"),{}),me=Object(c["a"])(de,ce,ue,!1,null,"599994fb",null),pe=me.exports;r["default"].use(m["a"]);var fe=new m["a"]({routes:[{path:"/",name:"Landing",component:le["default"]},{path:"/interlex/search?q=:term",name:"TermDetail",component:g},{path:"/annotate",name:"Annotate",component:oe},{path:"/about",name:"About",component:pe}]}),he=a("f13c"),ve=a.n(he);r["default"].use(ve.a),new r["default"]({el:"#app",router:fe,components:{App:d},render:function(e){return e(d)}})},"589a":function(e,t,a){"use strict";var r=a("b52b"),n=a.n(r);n.a},"5a6b":function(e,t,a){"use strict";var r=a("41d5"),n=a.n(r);n.a},"7f3e":function(e,t,a){},"85ec":function(e,t,a){},"9d64":function(e,t,a){e.exports=a.p+"img/logo.4cbaeba8.png"},a116:function(e,t,a){},a199:function(e,t,a){},a93c:function(e,t,a){e.exports=a.p+"img/NIDM_Terms_Annotations_Figure2_9dcb88e013764959.be80aeb7.png"},a9bf:function(e,t,a){"use strict";var r=a("1d6f"),n=a("137b"),s=(a("dfad"),a("2877")),i=Object(s["a"])(n["default"],r["a"],r["b"],!1,null,"93ef016a",null);t["default"]=i.exports},b52b:function(e,t,a){},c8d8:function(e,t){},dcfc:function(e,t,a){},dfad:function(e,t,a){"use strict";var r=a("dcfc"),n=a.n(r);n.a},e6c3:function(e,t,a){"use strict";var r=a("7f3e"),n=a.n(r);n.a}});
//# sourceMappingURL=app.27ce9148.js.map