(function(e){function t(t){for(var r,i,o=t[0],l=t[1],c=t[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&p.push(n[i][0]),n[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(t);while(p.length)p.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,o=1;o<a.length;o++){var l=a[o];0!==n[l]&&(r=!1)}r&&(s.splice(t--,1),e=i(i.s=a[0]))}return e}var r={},n={app:0},s=[];function i(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=r,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/nidmterms-ui/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"1a6b":function(e,t,a){},2586:function(e,t,a){"use strict";var r=a("937a"),n=a.n(r);n.a},"2a37":function(e,t,a){"use strict";var r=a("6f02"),n=a.n(r);n.a},"2d2c":function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return n}));var r=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("nav",{staticClass:"navbar navbar-default navbar-fixed-top"},[a("div",{staticClass:"container"},[a("div",{staticClass:"navbar-header"},[a("button",{staticClass:"navbar-toggle collapsed",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbar","aria-expanded":"false","aria-controls":"navbar"}},[a("span",{staticClass:"sr-only"},[e._v("Toggle navigation")]),a("span",{staticClass:"icon-bar"}),a("span",{staticClass:"icon-bar"}),a("span",{staticClass:"icon-bar"})]),a("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[e._v("Transparent to Solid Nav")])]),a("div",{staticClass:"navbar-collapse collapse",staticStyle:{height:"1px"},attrs:{id:"navbar","aria-expanded":"false"}},[e._v(" ANN "),a("ul",{staticClass:"nav navbar-nav navbar-right"},[a("li",[a("a",{attrs:{href:"#"}},[e._v("About")])]),a("li",[a("a",{attrs:{href:"#"}},[e._v("Link")])]),a("li",[a("a",{attrs:{href:"#"}},[e._v("Another Link")])])])])])]),a("div",{staticClass:"image"},[a("h1",{staticClass:"heading"},[e._v("Main Heading")]),a("p",[a("button",{staticClass:"btn btn-large"},[e._v("Big Button")])])]),a("div",{staticClass:"about"},[a("h2",[e._v("Main Description")]),a("p",[e._v("Roll on the floor purring your whiskers off intrigued by the shower burrow under covers, and play time, rub face on everything, intently sniff hand, or pelt around the house and up and down stairs chasing phantoms. Attack feet. Damn that dog shake treat bag under the bed drink water out of the faucet for lick butt love to play with owner's hair tie. Swat at dog give attitude.")])])])}]},"2d86":function(e,t,a){"use strict";var r=a("a199"),n=a.n(r);n.a},4879:function(e,t,a){"use strict";var r=a("1a6b"),n=a.n(r);n.a},"4bb8":function(e,t,a){"use strict";var r=a("ee01"),n=a.n(r);t["default"]=n.a},"4d55":function(e,t,a){"use strict";var r=a("2d2c"),n=a("4bb8"),s=(a("867f"),a("2877")),i=Object(s["a"])(n["default"],r["a"],r["b"],!1,null,"0fd1a9cf",null);t["default"]=i.exports},5005:function(e,t,a){},"557c":function(e,t,a){e.exports=a.p+"img/NIDM_Terms_Annotations_Figure1_1ff8a7b5dc7a7d1f.d4d6662d.png"},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},s=[],i=a("5f5b");r["default"].use(i["a"]);var o={name:"App",data:function(){return{terms:[],sourceList:[],interlexTerms:[],selectedTerm:null,selectedFile:null,image:{backgroundImage:"url(https://vuejs.org/images/logo.png)"}}},methods:{doNext:function(){this.$router.push("/annotate")}}},l=o,c=a("2877"),u=Object(c["a"])(l,n,s,!1,null,null,null),d=u.exports,p=a("8c4f"),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.results?a("div",[e._v(" "+e._s(e.results)+" "),a("div",{staticClass:"details"},e._l(e.results,(function(t){return a("ul",{key:t["_source"]["ilx"],staticClass:"list-group",attrs:{term:t}},[e._v(" "+e._s(t["_source"]["label"])+" ")])})),0)]):e._e()},f=[],h={name:"TermDetail",props:["results"]},v=h,b=(a("4879"),Object(c["a"])(v,m,f,!1,null,"5105084a",null)),g=b.exports,_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[e._m(0),a("input",{attrs:{type:"file"},on:{change:e.onFileSelected}})]),e.isAnnotated?a("div",{staticClass:"download-btn"},[a("b-button",{attrs:{variant:"primary"},on:{click:e.downloadJSONLD}},[e._v("Download JSON-LD")])],1):e._e(),e.sourceList.length?a("b-container",{staticClass:"col-container",attrs:{fluid:""}},[a("div",{attrs:{id:"sidebar-left"}},[a("p",[a("b",[e._v("Terms")])]),a("SourceVariableList",{attrs:{terms1:e.sourceList,completed:e.completed},on:{termSearchResult:e.searchList,termSelect:e.showTermProperties}})],1),e.selectedTerm?a("div",{attrs:{id:"main-content"}},[a("p",[a("b",[e._v("Term Properties")])]),a("transition",{attrs:{name:"fade",mode:"out-in"}},[e.showForm?a("TermProperties",{key:e.selectedTerm,attrs:{init:e.responses[e.selectedTerm],selectedTerm:e.selectedTerm,searchResults:e.getSearchResults},on:{saveResponse:e.setResponse}}):e._e()],1)],1):e._e(),e.selectedTerm?a("div",{attrs:{id:"sidebar-right"}},[a("p",[a("b",[e._v("Interlex Search")])]),a("InterlexSearchList",{attrs:{terms:e.interlexTerms}})],1):e._e()]):e._e()],1)},y=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",{staticClass:"text-left"},[a("b",[e._v(" Upload a CSV or TSV file to annotate: ")])])}],T=(a("a4d3"),a("e01a"),a("99af"),a("4de4"),a("b0c0"),a("4fad"),a("b64b"),a("07ac"),a("ac1f"),a("1276"),a("3835")),x=a("bc3a"),S=a.n(x),w=a("369b"),I=a.n(w),C=a("c4e3"),A=a.n(C),O=a("2ef0"),j=a.n(O),k=a("21a6"),L=(a("92bd"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("ul",{staticClass:"list-group"},e._l(e.terms1,(function(t){return a("TermListItem",{key:t,attrs:{term:t,completed:e.completed},on:{termSelect:e.onTermSelect}})})),1)])}),N=[],D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"list-group-item",on:{click:e.onTermSelect}},[a("span",{staticClass:"align-middle"},[e._v(" "+e._s(e.term)+" ")]),e.showCheck?a("div",{staticClass:"checkmark"}):e._e()])},M=[],R={name:"TermListItem",props:{term:String,completed:Object},watch:{completed:function(){console.log(21,this.completed)}},methods:{onTermSelect:function(){this.$emit("termSelect",this.term)}},computed:{showCheck:function(){return console.log(31,this.completed[this.term]),this.completed}}},E=R,V=(a("2a37"),Object(c["a"])(E,D,M,!1,null,"4c2f2db9",null)),F=V.exports,$="CfufpoSNVXujv7h14HFHI4dL9p36mxCJ",P={name:"SourceVariableList",props:{terms1:Array,completed:Object},data:function(){return{results:[],itemCompleted:!1}},components:{TermListItem:F},watch:{completed:{deep:!0}},methods:{onTermSelect:function(e){var t=this;this.$emit("termSelect",e),S.a.get("https://scicrunch.org/api/1/elastic/interlex/term/_search?q=".concat(e),{params:{key:$}}).then((function(e){t.$emit("termSearchResult",e.data.hits.hits)}))}}},H=P,J=Object(c["a"])(H,L,N,!1,null,"122177ae",null),G=J.exports,U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",{staticClass:"list-group scroll"},e._l(e.terms,(function(e){return a("InterlexTerm",{key:e["_id"],attrs:{term:e}})})),1)},B=[],q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"list-group-item"},[a("input",{staticClass:"checkbox",attrs:{type:"checkbox"}}),a("span",{staticClass:"align-middle"},[a("strong",[e._v(e._s(e.term["_source"].label)+" ")]),a("br"),e._v(" Description: "+e._s(e.term["_source"].definition)+" ")])])},X=[],K={name:"InterlexTerm",props:{term:Object},methods:{onTermSelect:function(){this.$emit("termSelect",this.term)}}},z=K,Q=(a("2d86"),Object(c["a"])(z,q,X,!1,null,"065681bd",null)),W=Q.exports,Y={name:"InterlexSearchList",props:{terms:Array,terms1:Array},components:{InterlexTerm:W},methods:{onTermSelect:function(e){this.$emit("termSelect",e)}}},Z=Y,ee=(a("2586"),Object(c["a"])(Z,U,B,!1,null,"f6e49f5c",null)),te=ee.exports,ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"panel panel-default"},[a("div",{staticClass:"panel-body scroll"},[a("vue-form-generator",{key:e.selectedTerm,attrs:{schema:e.schema,model:e.model,options:e.formOptions}}),a("b-button",{on:{click:e.onSave}},[e._v("Save")])],1)])])},re=[],ne=a("4309"),se=a.n(ne),ie={name:"TermProperties",props:{selectedTerm:String,init:Object,searchResults:Array},components:{"vue-form-generator":se.a.component},data:function(){return{model:{label:"",sourceVariable:"",description:"",url:"",valueType:"",isAbout:[],isPartOf:[],datumType:"",unitCode:"",maxValue:"",minValue:"",allowableValues:[],choices:[],derivative:"",citation:"",measureOf:"",provenance:""},schema:{fields:[{type:"input",inputType:"text",label:"Label",model:"label",hint:"Label for the term",readonly:!1,featured:!0,disabled:!1,validator:se.a.validators.string},{type:"input",inputType:"text",label:"Source variable",model:"sourceVariable",readonly:!1,hint:"Variable name from dataset",featured:!0,required:!1,disabled:!1,validator:se.a.validators.string},{type:"input",inputType:"text",label:"Description",model:"description",featured:!0,required:!1,hint:"An explanation of the nature, scope, or meaning of the new term.",validator:se.a.validators.string},{type:"input",inputType:"text",label:"valueType",model:"valueType",hint:"A value representation such as integer, float, string, date/time",featured:!0,readonly:!1,required:!1,validator:se.a.validators.string},{type:"input",inputType:"text",label:"datumType",model:"datumType",hint:"What type of datum it is (e.g. range,count,scalar etc.): see IAO definitions",readonly:!1,featured:!0,disabled:!1,validator:se.a.validators.string},{type:"input",inputType:"text",label:"Unit",model:"hasUnit",hint:"Unit of measurement following BIDS specification",readonly:!1,featured:!0,disabled:!1,validator:se.a.validators.string},{type:"input",inputType:"number",label:"Max Value",model:"maximumValue",readonly:!1,featured:!0,disabled:!1,validator:se.a.validators.number},{type:"input",inputType:"number",label:"Min Value",model:"minimumValue",readonly:!1,featured:!0,disabled:!1,validator:se.a.validators.number},{type:"checklist",label:"isAbout",model:"isAbout",required:!1,multiSelect:!0,featured:!0,default:"No concept needed for this variable",values:function(){return console.log(187,this.searchResults),["HTML5","Javascript","CSS3","CoffeeScript","AngularJS","ReactJS","VueJS"]},hint:"An explanation of the nature, scope, or meaning of the new term.",validator:se.a.validators.array},{type:"input",inputType:"text",label:"allowableValues",model:"allowableValues",readonly:!1,featured:!0,disabled:!1},{type:"input",inputType:"text",label:"isPartOf",model:"isPartOF",readonly:!1,featured:!0,disabled:!1,required:!1,validator:se.a.validators.array}]},formOptions:{validateAfterLoad:!0,validateAfterChanged:!0,validateAsync:!0}}},methods:{onSave:function(){this.$emit("saveResponse",this.selectedTerm,this.model)}},mounted:function(){this.init&&(this.model=this.init),console.log(243,this.searchResults)}},oe=ie,le=(a("d6d9"),Object(c["a"])(oe,ae,re,!1,null,"6198fe38",null)),ce=le.exports,ue="CfufpoSNVXujv7h14HFHI4dL9p36mxCJ",de={name:"Annotate",components:{TermProperties:ce,InterlexSearchList:te,SourceVariableList:G},data:function(){return{fileInput:{},terms:[],sourceList:[],interlexTerms:[],selectedTerm:null,selectedFile:null,image:{backgroundImage:"static/images/nidm-terms-background.png"},showForm:!1,responses:{},completed:{},isAnnotated:!1}},watch:{responses:{deep:!0,handler:function(e){this.isAnnotated=!j.a.isEmpty(e),console.log(82,"in resp watcher ",e,j.a.isEmpty(e),this.isAnnotated)}},interlexTerms:function(){this.$forceUpdate()}},methods:{downloadJSONLD:function(){var e=this.createAnnotatedFile(this.responses),t=new A.a;console.log(117,this.responses),t.folder("responses").file("".concat(this.fileInput.name.split(".")[0],".jsonld"),JSON.stringify(e,null,4)),t.generateAsync({type:"blob"}).then((function(e){var t="study-data";Object(k["saveAs"])(e,t)}))},createAnnotatedFile:function(e){console.log(117,e);for(var t={},a=0,r=Object.entries(e);a<r.length;a++){var n=Object(T["a"])(r[a],2),s=n[0],i=n[1];console.log("".concat(s,": ").concat(i));var o="DD(source=".concat(this.fileInput.name,", variable=").concat(s,")"),l={label:s,description:i.description,sameAs:"https://ndar.nih.gov/api/datadictionary/v2/dataelement/src_subject_id",valueType:i.valueType,source_variable:i.sourceVariable,isAbout:i.isAbout};t[o]=l}return t},onFileSelected:function(e){var t=this;this.fileInput=e.target.files[0],console.log(116,this.fileInput.name.split(".")[0]),I.a.parse(this.fileInput,{complete:function(e){t.sourceList=e.data[0]}})},searchList:function(e){this.interlexTerms=e,console.log(127,this.interlexTerms)},showTermProperties:function(e){this.selectedTerm=e,this.showForm=!0},onTermChange:function(e){var t=this;S.a.get("https://scicrunch.org/api/1/term/elastic/search?term=".concat(e),{params:{key:ue}}).then((function(e){t.terms=e.data.data.hits.hits}))},setResponse:function(e,t){console.log(104,e,t,Object.keys(t)),this.$set(this.responses,e,t),t?(this.completed[e]=!1,console.log(128,this.completed,Object.values(t))):this.completed[e]=!1}},computed:{visibleFields:function(){return this.fields.filter((function(e){return e.visible}))},getSearchResults:function(){return console.log(168,this.interlexTerms),this.interlexTerms}}},pe=de,me=(a("e87e"),Object(c["a"])(pe,_,y,!1,null,"0eb9811a",null)),fe=me.exports,he=a("4d55"),ve=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},be=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",{staticClass:"entry-header-content"},[r("h2",{staticClass:"entry-title"},[r("strong",[e._v("THE NEUROIMAGING DATA MODEL: FAIR DESCRIPTORS OF BRAIN INITIATIVE IMAGING EXPERIMENTS")])]),r("br"),r("h3",[e._v("NIH RF1 MH120021")]),r("p",{staticClass:"text-justify"},[e._v("Reuse of existing neuroscience data relies, in part, on our ability to understand the experimental design and study data. Historically, a description of the experiment is provided in textual documents, which are often difficult to search, lack the details necessary for data reuse, and are hampered by differences in terminologies across related fields of neuroscience. In this project we develop human neuroimaging domain-specific controlled vocabularies through community engagement and to provide tools for their use in BRAIN Initiative projects. The proposed work will provide a controlled vocabulary for use by the newer BRAIN Initiative projects, incorporating such annotations into the BIDS format (Figure 1) and hosted through the BRAIN Initiative archives such as OpenNeuro (Figure 2). This project will greatly improve the ability to search across and reuse datasets.")]),r("section",{attrs:{id:"our-team"}},[r("h3",[r("strong",[e._v("Our Team")])]),r("ul",{staticClass:"member-list"},[r("li",[r("a",{attrs:{href:"https://faculty.sites.uci.edu/davidkeator/"}},[e._v("David Keator")]),e._v(" – UC Irvine")]),r("li",[r("a",{attrs:{href:"https://www.nmr.mgh.harvard.edu/user/6787"}},[e._v("Karl Helmer")]),e._v(" – MGH / Harvard")]),r("li",[r("a",{attrs:{href:"https://profiles.ucsd.edu/jeffrey.grethe"}},[e._v("Jeff Grethe")]),e._v(" – UC San Diego")]),r("li",[r("a",{attrs:{href:"https://www.mcgill.ca/neuro/jean-baptiste-poline-phd"}},[e._v("Jean-Baptiste Poline")]),e._v(" – McGill")]),r("li",[r("a",{attrs:{href:"https://mcgovern.mit.edu/profile/satrajit-ghosh/"}},[e._v("Satra Ghosh")]),e._v(" – MIT")]),r("li",[r("a",{attrs:{href:"https://www.faculty.uci.edu/profile.cfm?faculty_id=5812"}},[e._v("Theo G.M. VanErp")]),e._v(" – UC Irvine")]),r("li",[r("a",{attrs:{href:""}},[e._v("Nazek Queder")]),e._v(" - UC Irvine")]),r("li",[r("a",{attrs:{href:"https://gablab.mit.edu/team/abraham-sanu-ann/"}},[e._v("Sanu Ann Abraham")]),e._v(" - MIT")])])]),r("section",{attrs:{id:"contribute"}},[r("div",[r("h3",[r("strong",[e._v("Interested in contributing?")])]),r("span",[e._v("Visit our "),r("a",{attrs:{href:"https://github.com/NIDM-Terms/terms"}},[e._v("NIDM-Terms")]),e._v(" GitHub site for further information!")])])]),r("br"),r("img",{attrs:{src:a("557c"),alt:"NIDM_Figure1"}}),r("br"),r("br"),r("img",{attrs:{src:a("a93c"),alt:"NIDM_Figure2"}})])])}],ge=(a("e6c3"),{}),_e=Object(c["a"])(ge,ve,be,!1,null,"599994fb",null),ye=_e.exports;r["default"].use(p["a"]);var Te=new p["a"]({routes:[{path:"/",name:"Landing",component:he["default"]},{path:"/interlex/search?q=:term",name:"TermDetail",component:g},{path:"/annotate",name:"Annotate",component:fe},{path:"/about",name:"About",component:ye}]});new r["default"]({el:"#app",router:Te,components:{App:d},render:function(e){return e(d)}})},"6f02":function(e,t,a){},"7f3e":function(e,t,a){},"867f":function(e,t,a){"use strict";var r=a("5005"),n=a.n(r);n.a},"937a":function(e,t,a){},9505:function(e,t,a){},"9a40":function(e,t,a){},a199:function(e,t,a){},a93c:function(e,t,a){e.exports=a.p+"img/NIDM_Terms_Annotations_Figure2_9dcb88e013764959.be80aeb7.png"},d6d9:function(e,t,a){"use strict";var r=a("9a40"),n=a.n(r);n.a},e6c3:function(e,t,a){"use strict";var r=a("7f3e"),n=a.n(r);n.a},e87e:function(e,t,a){"use strict";var r=a("9505"),n=a.n(r);n.a},ee01:function(e,t){}});
//# sourceMappingURL=app.890f2368.js.map